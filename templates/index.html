
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InterviewForge - Home</title>
    <!-- <link rel="stylesheet" href="style.css"> -->
</head>
<body>
    <div class="app-container">
        <header>
            <h1>InterviewForge</h1>
        </header>
        <main>
            <div class="input-form-container">
                <h2>Let's Get You Ready!</h2>
                <form id="input-form" method="post" action="/start" enctype="multipart/form-data">
                    <label>
                        Your Name:
                        <input type="text" id="name" name="name"/>
                    </label>
        
                    <label>
                        Aspiring Job Title:
                        <input type="text" id="job-title" name="job_title"/>
                    </label>
        
                    <label>
                        Job Description:
                        <textarea id="job-description" name="job_description"></textarea>
                    </label>
        
                    <label>
                      Upload Resume (PDF/WORD):
                      <input type="file" id="resume" name="resume" accept=".pdf,.doc,.docx"/>
                    </label>
        
                    <label for="interviewer-select">
                        Select Interviewer:
                        <select id="interviewer-select" name="interviewer">
                            <option value="Komal">Komal</option>
                            <option value="Mayank">Mayank</option>
                            <option value="Lalit">Lalit</option>
                            <option value="Abhay">Abhay</option>
                        </select>
                    </label>
        
                    <button type="submit">Start Interview</button>
                </form>
            </div>

            <div class="video-window-container">
                <div class="ai-image">
                    <img id="interviewer-image" src="{{url_for('static', filename='/images/komal.png')}}" alt="AI" />
                </div>
                <div class="user-video">
                    <video id="self-video" autoplay muted>
                        Your browser does not support the video tag.
                    </video>
                </div>
            </div>

            <div id="results"></div>
        </main>
        <footer>
            <p>&copy; 2024 InterviewForge. All rights reserved by <a href="https://saastalent.co/">SaaSTalent</a>.</p>
        </footer>
    </div>
    <style>
        /* src/App.css */

.app-container {
  display: flex;
  flex-direction: column;
  align-items: center;
}

main {
  display: flex;
  width: 100%;
}

.input-form-container {
  width: 30%;
}

.video-window-container {
  width: 70%;
}

.input-form-container {
    max-width: 400px;
    margin: auto;
    padding: 20px;
    border: 1px solid #ccc;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    height: 100%;
  }
  
  h2 {
    color: #333;
    text-align: center;
  }
  
  form {
    display: flex;
    flex-direction: column;
  }
  
  label {
    margin: 10px 0;
    font-size: 14px;
    color: #555;
  }
  
  input,
  textarea,
  button {
    padding: 8px;
    margin: 5px 0;
    border: 1px solid #ccc;
    border-radius: 4px;
  }
  
  input {
    width: 100%;
    box-sizing: border-box;
  }
  
  textarea {
    width: 100%;
    height: 300px; /* Set a fixed height */
    resize: none; /* Disable resizing */
    overflow-y: auto; /* Add scrollbar when content exceeds height */
    box-sizing: border-box;
  }
  
  button {
    background-color: #007bff;
    color: #fff;
    cursor: pointer;
  }
  
  button:hover {
    background-color: #0056b3;
  }
  
  /* Dropdown styling */
  #interviewer-select {
    width: 100%;
    padding: 8px;
    margin: 5px 0;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box;
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23555555" width="18px" height="18px"><path d="M7 10l5 5 5-5H7z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');
    background-repeat: no-repeat;
    background-position: right 8px center;
    background-size: 18px 18px;
  }
  
  /* Button styling */
  button[type="submit"] {
    width: 100%;
    padding: 10px;
    margin: 10px 0;
    border: none;
    border-radius: 4px;
    background-color: #007bff;
    color: #fff;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  
  button[type="submit"]:hover {
    background-color: #0056b3;
  }

  /* .video-window-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 60%;
    height: 800px;
    margin: auto;
    padding: 20px;
    padding-right: 10px;
    border: 1px solid #ddd;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    position: relative; 
  }
  
  .ai-image {
    width: 100%;
  }
  
  .ai-image img {
    width: 100%;
  }
  
  .user-video {
    position: absolute;
    bottom: 15px;
    right: 15px;
    width: 30%;
  }
  
  .self-video::-webkit-media-controls {
    display: none !important;
  }
  
  .user-video video {
    width: 100%;
    border-radius: 8px;
  } */

/* src/components/Results.css */
/*  */
.video-window-container {
    display: flex;
    justify-content: center; /* Center the content horizontally */
    align-items: center;
    width: 60%;
    height: 800px;
    margin: auto;
    padding: 20px;
    border: 1px solid #ddd;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    position: relative; /* Ensure relative positioning for absolute positioning of self video */
    overflow: hidden; /* Ensure no overflow from absolute positioned elements */
}

.ai-image {
    width: 100%;
    height: 100%;
    position: relative; /* Ensure img covers the whole container */
}

.ai-image img {
    width: 100%;
    height: 100%;
    object-fit: cover; /* Ensure the image covers the entire container without distortion */
}

.user-video {
    position: absolute;
    bottom: 15px;
    right: 15px;
    width: 25%;
    border: 2px solid white; /* Optional: border to distinguish the user's video */
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5); /* Optional: shadow to give a floating effect */
}

.user-video video {
    width: 100%;
    height: auto;
    border-radius: 8px;
}

.self-video::-webkit-media-controls {
    display: none !important;
}

.results-container {
  margin-top: 20px;
}

.result-section {
  display: flex;
  justify-content: space-between;
}

.result-pane {
  width: 60%;
}

.technical-pane {
  width: 35%;
}

.feedback {
  margin-top: 10px;
}

    </style>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Get video element
            const videoElement = document.getElementById('self-video');

            // Function to start capturing the live video stream from the front camera
            async function startVideoStream() {
                try {
                    // Access the user's camera
                    const stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: 'user' }, audio: false });

                    // Attach the stream to the video element
                    videoElement.srcObject = stream;
                } catch (error) {
                    console.error('Error accessing the camera:', error);
                }
            }

            // Call the function to start capturing the video stream
            startVideoStream();
        });

    //     document.getElementById('input-form').addEventListener('submit', function(event) {
    //         //event.preventDefault(); // Prevent the form from submitting the traditional way

    //         const interviewer = document.getElementById('interviewer-select').value;
    //         const interviewerImage = document.getElementById('interviewer-image');
            
    //         // Update the image source based on the selected interviewer
    //         switch(interviewer) {
    //             case 'Komal':
    //                 interviewerImage.src = "{{url_for('static', filename='/images/komal.png')}}";
    //                 break;
    //             case 'Mayank':
    //                 interviewerImage.src = "{{url_for('static', filename='/images/mayank.png')}}";
    //                 break;
    //             case 'Lalit':
    //                 interviewerImage.src = "{{url_for('static', filename='/images/lalit.png')}}";
    //                 break;
    //             case 'Abhay':
    //                 interviewerImage.src = "{{url_for('static', filename='/images/abhay.png')}}";
    //                 break;
    //             default:
    //                 interviewerImage.src = "{{url_for('static', filename='/images/komal.png')}}";
    //         }

    //         // Optionally, you can submit the form using AJAX or any other method here

    //     });
    // 
    document.getElementById('interviewer-select').addEventListener('change', function() {
            const interviewer = this.value;
            const interviewerImage = document.getElementById('interviewer-image');
            
            // Update the image source based on the selected interviewer
            switch(interviewer) {
                case 'Komal':
                    interviewerImage.src = "{{url_for('static', filename='/images/komal.png')}}";
                    break;
                case 'Mayank':
                    interviewerImage.src = 'path/to/mayank-image.jpg';
                    break;
                case 'Lalit':
                    interviewerImage.src = "{{url_for('static', filename='/images/lalit.png')}}";
                    break;
                case 'Abhay':
                    interviewerImage.src = 'path/to/abhay-image.jpg';
                    break;
                default:
                    interviewerImage.src = "{{url_for('static', filename='/images/komal.png')}}";
            }
        });
    </script>
    
</body>
</html>